# إعداد كاتيجوري وسوب كاتيجوري المتاجر

## نظرة عامة
تم تطبيق نظام كاتيجوري وسوب كاتيجوري للمتاجر مشابه لنظام المنتجات، مع تصميم موحد وفلاتر محسنة.

## الجداول الجديدة

### 1. جدول `shops_categories`
```sql
- id: معرف فريد
- name: اسم الكاتيجوري
- description: وصف الكاتيجوري
- image_url: رابط صورة الكاتيجوري
- created_at: تاريخ الإنشاء
- updated_at: تاريخ آخر تحديث
```

### 2. جدول `shops_sub_categories`
```sql
- id: معرف فريد
- name: اسم السوب كاتيجوري
- description: وصف السوب كاتيجوري
- image_url: رابط صورة السوب كاتيجوري
- category_id: معرف الكاتيجوري الأساسي
- created_at: تاريخ الإنشاء
- updated_at: تاريخ آخر تحديث
```

### 3. تحديث جدول `shops`
```sql
- category_shop_id: معرف كاتيجوري المتجر
- category_sub_shop_id: معرف سوب كاتيجوري المتجر
```

## التشغيل

### 1. تشغيل ملف SQL
```bash
# تشغيل ملف إنشاء الجداول
psql -d your_database -f database/shops_categories_tables.sql
```

### 2. الميزات الجديدة

#### أ. تصميم موحد مع المنتجات
- نفس تصميم الكاتيجوري الدائري مع الصور
- أسهم التنقل اليسار واليمين
- تمرير أفقي سلس
- تصميم متجاوب للموبايل

#### ب. سوب كاتيجوري المتاجر
- يظهر عند اختيار كاتيجوري أساسي
- نفس التصميم الدائري
- فلترة تلقائية للمتاجر

#### ج. فلاتر محسنة
- فلترة حسب الكاتيجوري الأساسي
- فلترة حسب السوب كاتيجوري
- إعادة تعيين الفلاتر
- عرض عدد المتاجر المفلترة

## الكاتيجوريات المدرجة مسبقاً

### الكاتيجوريات الأساسية:
1. **مطاعم** - مطاعم ومأكولات
2. **متاجر إلكترونيات** - أجهزة إلكترونية ومعدات تقنية
3. **ملابس وأزياء** - ملابس وإكسسوارات
4. **صحة وجمال** - منتجات العناية والجمال
5. **منزل وحديقة** - أثاث ومستلزمات منزلية
6. **رياضة ولياقة** - معدات رياضية ولياقة بدنية

### السوب كاتيجوريات:

#### مطاعم:
- وجبات سريعة
- مأكولات عربية
- حلويات ومخبوزات
- مشروبات وعصائر

#### إلكترونيات:
- هواتف ذكية
- حاسوب ولابتوب
- أجهزة منزلية

#### ملابس وأزياء:
- ملابس رجالية
- ملابس نسائية
- ملابس أطفال

#### صحة وجمال:
- عناية بالبشرة
- مكياج وتجميل
- عطور

#### منزل وحديقة:
- أثاث
- ديكور
- أدوات منزلية

#### رياضة ولياقة:
- معدات رياضية
- ملابس رياضية
- مكملات غذائية

## الترجمات المضافة

### العربية:
- `shops.categories.title`: "فئات المتاجر"
- `shops.subcategories.title`: "الفئات الفرعية للمتاجر"
- `shops.filter.category`: "تصفية حسب الفئة"
- `shops.filter.subcategory`: "تصفية حسب الفئة الفرعية"

### الإنجليزية:
- `shops.categories.title`: "Shop Categories"
- `shops.subcategories.title`: "Shop Subcategories"
- `shops.filter.category`: "Filter by Category"
- `shops.filter.subcategory`: "Filter by Subcategory"

### العبرية:
- `shops.categories.title`: "קטגוריות חנויות"
- `shops.subcategories.title`: "תת-קטגוריות חנויות"
- `shops.filter.category`: "סינון לפי קטגוריה"
- `shops.filter.subcategory`: "סינון לפי תת-קטגוריה"

## كيفية الاستخدام

### 1. إضافة كاتيجوري جديد:
```sql
INSERT INTO shops_categories (name, description, image_url) 
VALUES ('اسم الكاتيجوري', 'وصف الكاتيجوري', '/path/to/image.jpg');
```

### 2. إضافة سوب كاتيجوري:
```sql
INSERT INTO shops_sub_categories (name, description, category_id, image_url) 
VALUES ('اسم السوب كاتيجوري', 'وصف السوب كاتيجوري', 1, '/path/to/image.jpg');
```

### 3. ربط متجر بالكاتيجوريات:
```sql
UPDATE shops 
SET category_shop_id = 1, category_sub_shop_id = 1 
WHERE id = shop_id;
```

## الملفات المحدثة

1. `components/shops-list.tsx` - المكون الرئيسي للمتاجر
2. `locales/ar.json` - الترجمات العربية
3. `locales/en.json` - الترجمات الإنجليزية
4. `locales/he.json` - الترجمات العبرية
5. `database/shops_categories_tables.sql` - ملف إنشاء الجداول

## ملاحظات مهمة

1. **الصور**: تأكد من رفع الصور في المجلدات المناسبة
2. **الفهارس**: تم إنشاء فهارس لتحسين الأداء
3. **العلاقات**: تم استخدام Foreign Keys للحفاظ على سلامة البيانات
4. **التصميم المتجاوب**: يعمل على جميع أحجام الشاشات
5. **إمكانية الوصول**: تم إضافة aria-labels للمساعدة

## الخطوات التالية

1. رفع الصور للكاتيجوريات والسوب كاتيجوريات
2. ربط المتاجر الموجودة بالكاتيجوريات المناسبة
3. اختبار الفلاتر والتنقل
4. إضافة المزيد من الكاتيجوريات حسب الحاجة
